@model ClinicApp.ViewModels.Insurance.PatientInsurance.PatientInsuranceCreateEditViewModel

<!-- Patient Selection Section -->
<div class="form-section">
    <h4 class="section-title">
        <i class="fas fa-user"></i> انتخاب بیمار
    </h4>

        <div class="form-group">
            @Html.LabelFor(m => m.PatientId, new { @class = "form-label" })
            @Html.DropDownListFor(m => m.PatientId, new List<SelectListItem>(), "انتخاب بیمار", new { @class = "form-control patient-select2", required = "required" })
            @Html.ValidationMessageFor(m => m.PatientId, "", new { @class = "text-danger" })
            <div class="patient-info">
                <div class="info-text">
                    <i class="fas fa-info-circle"></i>
                    ابتدا بیمار مورد نظر را انتخاب کنید. سپس طرح بیمه مناسب را انتخاب نمایید.
                    <br>
                    <small class="text-muted">
                        <i class="fas fa-search"></i>
                        برای جستجو می‌توانید نام، نام خانوادگی، کد ملی یا شماره تلفن بیمار را وارد کنید.
                    </small>
                </div>
            </div>
        </div>
</div>

<!-- Insurance Plan Selection Section -->
<div class="form-section">
    <h4 class="section-title">
        <i class="fas fa-shield-alt"></i> انتخاب طرح بیمه
    </h4>

    <div class="form-group">
        @Html.LabelFor(m => m.InsurancePlanId, new { @class = "form-label" })
        @Html.DropDownListFor(m => m.InsurancePlanId, Model.InsurancePlanSelectList, "انتخاب طرح بیمه", new { @class = "form-control", required = "required" })
        @Html.ValidationMessageFor(m => m.InsurancePlanId, "", new { @class = "text-danger" })
        <div class="insurance-info">
            <div class="info-text">
                <i class="fas fa-info-circle"></i>
                طرح بیمه مورد نظر را انتخاب کنید. اطلاعات پوشش و فرانشیز به صورت خودکار نمایش داده خواهد شد.
            </div>
        </div>
    </div>
</div>

<!-- Policy Information Section -->
<div class="form-section">
    <h4 class="section-title">
        <i class="fas fa-file-contract"></i> اطلاعات بیمه‌نامه
    </h4>

    <div class="row">
        <div class="col-md-6">
            <div class="form-group">
                @Html.LabelFor(m => m.PolicyNumber, new { @class = "form-label" })
                @Html.TextBoxFor(m => m.PolicyNumber, new { @class = "form-control", placeholder = "شماره بیمه‌نامه", required = "required" })
                @Html.ValidationMessageFor(m => m.PolicyNumber, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="col-md-6">
            <div class="form-group">
                @Html.LabelFor(m => m.IsPrimary, new { @class = "form-label" })
                <div class="form-check">
                    @Html.CheckBoxFor(m => m.IsPrimary, new { @class = "form-check-input" })
                    @Html.LabelFor(m => m.IsPrimary, "بیمه اصلی", new { @class = "form-check-label" })
                </div>
                @Html.ValidationMessageFor(m => m.IsPrimary, "", new { @class = "text-danger" })
                <div class="type-info">
                    <div class="info-text">
                        <i class="fas fa-info-circle"></i>
                        اگر این بیمه اصلی بیمار است، تیک را بزنید. در غیر این صورت به عنوان بیمه تکمیلی در نظر گرفته می‌شود.
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Validity Period Section -->
<div class="form-section">
    <h4 class="section-title">
        <i class="fas fa-calendar-alt"></i> دوره اعتبار بیمه
    </h4>

    <div class="row">
        <div class="col-md-6">
            <div class="form-group">
                @Html.LabelFor(m => m.StartDateShamsi, new { @class = "form-label" })
                @Html.TextBoxFor(m => m.StartDateShamsi, new { @class = "form-control persian-datepicker", placeholder = "تاریخ شروع اعتبار (شمسی)", required = "required" })
                @Html.ValidationMessageFor(m => m.StartDateShamsi, "", new { @class = "text-danger" })
                @Html.HiddenFor(m => m.StartDate)
            </div>
        </div>
        <div class="col-md-6">
            <div class="form-group">
                @Html.LabelFor(m => m.EndDateShamsi, new { @class = "form-label" })
                @Html.TextBoxFor(m => m.EndDateShamsi, new { @class = "form-control persian-datepicker", placeholder = "تاریخ پایان اعتبار (شمسی)", required = "required" })
                @Html.ValidationMessageFor(m => m.EndDateShamsi, "", new { @class = "text-danger" })
                @Html.HiddenFor(m => m.EndDate)
            </div>
        </div>
    </div>

    <div class="validity-info">
        <div class="info-text">
            <i class="fas fa-info-circle"></i>
            دوره اعتبار بیمه بیمار. این بیمه فقط در این بازه زمانی قابل استفاده است.
        </div>
    </div>
</div>

<!-- Status Section -->
<div class="form-section">
    <h4 class="section-title">
        <i class="fas fa-toggle-on"></i> وضعیت بیمه
    </h4>

    <div class="form-group">
        <div class="form-check">
            @Html.CheckBoxFor(m => m.IsActive, new { @class = "form-check-input" })
            @Html.LabelFor(m => m.IsActive, "فعال", new { @class = "form-check-label" })
        </div>
        @Html.ValidationMessageFor(m => m.IsActive, "", new { @class = "text-danger" })
    </div>
</div>