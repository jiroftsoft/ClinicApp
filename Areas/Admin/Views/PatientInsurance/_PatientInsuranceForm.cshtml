@model ClinicApp.ViewModels.Insurance.PatientInsurance.PatientInsuranceCreateEditViewModel

<!-- ๐ฅ Medical Environment Validation Summary -->
@if (!ViewData.ModelState.IsValid)
{
    <div class="alert alert-danger medical-validation-alert" role="alert">
        <div class="d-flex align-items-center">
            <i class="fas fa-exclamation-triangle me-2"></i>
            <h5 class="mb-0">ุฎุทุงูุง ุงุนุชุจุงุฑุณูุฌ</h5>
        </div>
        <hr class="my-2">
        @Html.ValidationSummary(true, "", new { @class = "validation-summary-errors medical-validation-list" })
        <div class="mt-2">
            <small class="text-muted">
                <i class="fas fa-info-circle"></i>
                ูุทูุงู ุฎุทุงูุง ุจุงูุง ุฑุง ุจุฑุทุฑู ฺฉุฑุฏู ู ูุฌุฏุฏุงู ุชูุงุด ฺฉูุฏ.
            </small>
        </div>
    </div>
}

<!-- ๐ฅ Patient Selection Section - Medical Environment Standards -->
<div class="form-section medical-form-section">
    <h4 class="section-title medical-section-title">
        <i class="fas fa-user-md"></i> ุงูุชุฎุงุจ ุจูุงุฑ
        <span class="required-indicator">*</span>
    </h4>

    <div class="form-group medical-form-group">
        @Html.LabelFor(m => m.PatientId, new { @class = "form-label medical-form-label" })
        @Html.DropDownListFor(m => m.PatientId, new List<SelectListItem>(), "ุงูุชุฎุงุจ ุจูุงุฑ", new { 
            @class = "form-control patient-select2 medical-form-control", 
            required = "required",
            data_medical_field = "patient-selection",
            aria_describedby = "patient-help"
        })
        @Html.ValidationMessageFor(m => m.PatientId, "", new { @class = "text-danger medical-validation-message" })
        
        <div class="patient-info medical-info-box" id="patient-help">
            <div class="info-text medical-info-text">
                <i class="fas fa-info-circle"></i>
                <strong>ุฑุงูููุง ุงูุชุฎุงุจ ุจูุงุฑ:</strong>
                <ul class="mt-2 mb-0">
                    <li>ุงุจุชุฏุง ุจูุงุฑ ููุฑุฏ ูุธุฑ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ</li>
                    <li>ุณูพุณ ุทุฑุญ ุจูู ููุงุณุจ ุฑุง ุงูุชุฎุงุจ ููุงุฏ</li>
                    <li>ุจุฑุง ุฌุณุชุฌู: ูุงูุ ูุงู ุฎุงููุงุฏฺฏุ ฺฉุฏ ูู ุง ุดูุงุฑู ุชููู</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<!-- ๐ฅ Insurance Plan Selection Section - Medical Environment Standards -->
<div class="form-section medical-form-section">
    <h4 class="section-title medical-section-title">
        <i class="fas fa-shield-alt"></i> ุงูุชุฎุงุจ ุทุฑุญ ุจูู
        <span class="required-indicator">*</span>
    </h4>

    <div class="form-group medical-form-group">
        @Html.LabelFor(m => m.InsurancePlanId, new { @class = "form-label medical-form-label" })
        @Html.DropDownListFor(m => m.InsurancePlanId, Model.InsurancePlanSelectList, "ุงูุชุฎุงุจ ุทุฑุญ ุจูู", new { 
            @class = "form-control medical-form-control", 
            required = "required",
            data_medical_field = "insurance-plan",
            aria_describedby = "insurance-help"
        })
        @Html.ValidationMessageFor(m => m.InsurancePlanId, "", new { @class = "text-danger medical-validation-message" })
        
        <div class="insurance-info medical-info-box" id="insurance-help">
            <div class="info-text medical-info-text">
                <i class="fas fa-info-circle"></i>
                <strong>ุฑุงูููุง ุงูุชุฎุงุจ ุทุฑุญ ุจูู:</strong>
                <ul class="mt-2 mb-0">
                    <li>ุทุฑุญ ุจูู ููุฑุฏ ูุธุฑ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ</li>
                    <li>ุงุทูุงุนุงุช ูพูุดุด ู ูุฑุงูุดุฒ ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ููุงุด ุฏุงุฏู ุฎูุงูุฏ ุดุฏ</li>
                    <li>ุงุทููุงู ุญุงุตู ฺฉูุฏ ฺฉู ุทุฑุญ ุจูู ุจุง ูุงุฒูุง ุฏุฑูุงู ุจูุงุฑ ูุทุงุจูุช ุฏุงุฑุฏ</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<!-- ๐ฅ Policy Information Section - Medical Environment Standards -->
<div class="form-section medical-form-section">
    <h4 class="section-title medical-section-title">
        <i class="fas fa-file-contract"></i> ุงุทูุงุนุงุช ุจููโูุงูู
    </h4>

    <div class="row">
        <div class="col-md-6">
            <div class="form-group medical-form-group">
                @Html.LabelFor(m => m.PolicyNumber, new { @class = "form-label medical-form-label" })
                @Html.TextBoxFor(m => m.PolicyNumber, new { 
                    @class = "form-control medical-form-control", 
                    placeholder = "ุดูุงุฑู ุจููโูุงูู (ูุซุงู: 1234567890)", 
                    required = "required",
                    data_medical_field = "policy-number",
                    pattern = "[0-9]{3,15}",
                    title = "ุดูุงุฑู ุจููโูุงูู ุจุงุฏ 3 ุชุง 15 ุฑูู ุจุงุดุฏ",
                    aria_describedby = "policy-help"
                })
                @Html.ValidationMessageFor(m => m.PolicyNumber, "", new { @class = "text-danger medical-validation-message" })
                <div class="medical-info-box" id="policy-help">
                    <small class="text-muted">
                        <i class="fas fa-info-circle"></i>
                        ุดูุงุฑู ุจููโูุงูู ุจุงุฏ 3 ุชุง 15 ุฑูู ุจุงุดุฏ
                    </small>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="form-group medical-form-group">
                @Html.LabelFor(m => m.IsPrimary, new { @class = "form-label medical-form-label" })
                <div class="form-check medical-form-check">
                    @Html.CheckBoxFor(m => m.IsPrimary, new { 
                        @class = "form-check-input medical-form-check-input",
                        data_medical_field = "insurance-type"
                    })
                    @Html.LabelFor(m => m.IsPrimary, "ุจูู ุงุตู", new { @class = "form-check-label medical-form-check-label" })
                </div>
                @Html.ValidationMessageFor(m => m.IsPrimary, "", new { @class = "text-danger medical-validation-message" })
                <div class="type-info medical-info-box">
                    <div class="info-text medical-info-text">
                        <i class="fas fa-info-circle"></i>
                        <strong>ููุน ุจูู:</strong>
                        <ul class="mt-2 mb-0">
                            <li><strong>ุจูู ุงุตู:</strong> ุจูู ุงููู ุจูุงุฑ</li>
                            <li><strong>ุจูู ุชฺฉูู:</strong> ุจูู ุซุงููู ุจุฑุง ูพูุดุด ุงุถุงู</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ๐ฅ Validity Period Section - Medical Environment Standards -->
<div class="form-section medical-form-section">
    <h4 class="section-title medical-section-title">
        <i class="fas fa-calendar-alt"></i> ุฏูุฑู ุงุนุชุจุงุฑ ุจูู
        <span class="required-indicator">*</span>
    </h4>

    <div class="row">
        <div class="col-md-6">
            <div class="form-group medical-form-group">
                @Html.LabelFor(m => m.StartDateShamsi, new { @class = "form-label medical-form-label" })
                @Html.TextBoxFor(m => m.StartDateShamsi, new { 
                    @class = "form-control persian-datepicker medical-form-control", 
                    placeholder = "ุชุงุฑุฎ ุดุฑูุน ุงุนุชุจุงุฑ (ุดูุณ) - ูุซุงู: 1404/06/24", 
                    required = "required",
                    data_medical_field = "start-date",
                    pattern = "[0-9]{4}/[0-9]{2}/[0-9]{2}",
                    title = "ูุฑูุช ุชุงุฑุฎ: 1404/06/24",
                    aria_describedby = "start-date-help"
                })
                @Html.ValidationMessageFor(m => m.StartDateShamsi, "", new { @class = "text-danger medical-validation-message" })
                @Html.HiddenFor(m => m.StartDate)
                <div class="medical-info-box" id="start-date-help">
                    <small class="text-muted">
                        <i class="fas fa-info-circle"></i>
                        ุชุงุฑุฎ ุดุฑูุน ุงุนุชุจุงุฑ ุจูู (ูุฑูุช: 1404/06/24)
                    </small>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="form-group medical-form-group">
                @Html.LabelFor(m => m.EndDateShamsi, new { @class = "form-label medical-form-label" })
                @Html.TextBoxFor(m => m.EndDateShamsi, new { 
                    @class = "form-control persian-datepicker medical-form-control", 
                    placeholder = "ุชุงุฑุฎ ูพุงุงู ุงุนุชุจุงุฑ (ุดูุณ) - ูุซุงู: 1405/06/24", 
                    required = "required",
                    data_medical_field = "end-date",
                    pattern = "[0-9]{4}/[0-9]{2}/[0-9]{2}",
                    title = "ูุฑูุช ุชุงุฑุฎ: 1405/06/24",
                    aria_describedby = "end-date-help"
                })
                @Html.ValidationMessageFor(m => m.EndDateShamsi, "", new { @class = "text-danger medical-validation-message" })
                @Html.HiddenFor(m => m.EndDate)
                <div class="medical-info-box" id="end-date-help">
                    <small class="text-muted">
                        <i class="fas fa-info-circle"></i>
                        ุชุงุฑุฎ ูพุงุงู ุงุนุชุจุงุฑ ุจูู (ูุฑูุช: 1405/06/24)
                    </small>
                </div>
            </div>
        </div>
    </div>

    <div class="validity-info medical-info-box">
        <div class="info-text medical-info-text">
            <i class="fas fa-info-circle"></i>
            <strong>ุฏูุฑู ุงุนุชุจุงุฑ ุจูู ุจูุงุฑ:</strong>
            <ul class="mt-2 mb-0">
                <li>ุงู ุจูู ููุท ุฏุฑ ุจุงุฒู ุฒูุงู ูุดุฎุต ุดุฏู ูุงุจู ุงุณุชูุงุฏู ุงุณุช</li>
                <li>ุชุงุฑุฎ ูพุงุงู ุจุงุฏ ุจุนุฏ ุงุฒ ุชุงุฑุฎ ุดุฑูุน ุจุงุดุฏ</li>
                <li>ุงุทููุงู ุญุงุตู ฺฉูุฏ ฺฉู ุฏูุฑู ุงุนุชุจุงุฑ ุจุง ูุงุฒูุง ุฏุฑูุงู ุจูุงุฑ ูุทุงุจูุช ุฏุงุฑุฏ</li>
            </ul>
        </div>
    </div>
</div>

<!-- ๐ฅ Status Section - Medical Environment Standards -->
<div class="form-section medical-form-section">
    <h4 class="section-title medical-section-title">
        <i class="fas fa-toggle-on"></i> ูุถุนุช ุจูู
    </h4>

    <div class="form-group medical-form-group">
        <div class="form-check medical-form-check">
            @Html.CheckBoxFor(m => m.IsActive, new { 
                @class = "form-check-input medical-form-check-input",
                data_medical_field = "insurance-status"
            })
            @Html.LabelFor(m => m.IsActive, "ุจูู ูุนุงู", new { @class = "form-check-label medical-form-check-label" })
        </div>
        @Html.ValidationMessageFor(m => m.IsActive, "", new { @class = "text-danger medical-validation-message" })
        
        <div class="medical-info-box">
            <div class="info-text medical-info-text">
                <i class="fas fa-info-circle"></i>
                <strong>ูุถุนุช ุจูู:</strong>
                <ul class="mt-2 mb-0">
                    <li><strong>ูุนุงู:</strong> ุจูู ูุงุจู ุงุณุชูุงุฏู ุจุฑุง ุฎุฏูุงุช ุฏุฑูุงู</li>
                    <li><strong>ุบุฑูุนุงู:</strong> ุจูู ูููุชุงู ุบุฑูุงุจู ุงุณุชูุงุฏู</li>
                </ul>
            </div>
        </div>
    </div>
</div>