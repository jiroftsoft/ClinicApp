@using ClinicApp.ViewModels.Reception
@model ReceptionHistoryViewModel

<!-- Reception History Component - Professional Medical Environment -->
<div class="reception-history-component" id="receptionHistoryComponent">
    <div class="component-header">
        <h5 class="component-title">
            <i class="fas fa-history me-2"></i>
            سوابق پذیرش بیماران
        </h5>
        <div class="component-actions">
            <button type="button" class="btn btn-outline-primary btn-sm" id="refreshHistoryBtn">
                <i class="fas fa-sync-alt"></i>
                بروزرسانی
            </button>
        </div>
    </div>

    <div class="component-content">
        <!-- Advanced Search Filters -->
        <div class="search-filters">
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label class="form-label">از تاریخ</label>
                        <input type="text" id="dateFrom" class="form-control persian-datepicker" placeholder="انتخاب تاریخ">
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label class="form-label">تا تاریخ</label>
                        <input type="text" id="dateTo" class="form-control persian-datepicker" placeholder="انتخاب تاریخ">
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <div class="form-group">
                        <label class="form-label">نام بیمار</label>
                        <input type="text" id="patientName" class="form-control" placeholder="نام بیمار">
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <label class="form-label">کد ملی</label>
                        <input type="text" id="nationalCode" class="form-control" placeholder="کد ملی">
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <label class="form-label">وضعیت</label>
                        <select id="statusFilter" class="form-select">
                            <option value="">همه</option>
                            <option value="completed">تکمیل شده</option>
                            <option value="pending">در انتظار</option>
                            <option value="cancelled">لغو شده</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-12">
                    <div class="form-group">
                        <button type="button" class="btn btn-primary" id="searchHistoryBtn">
                            <i class="fas fa-search me-2"></i>
                            جستجو
                        </button>
                        <button type="button" class="btn btn-outline-secondary" id="clearFiltersBtn">
                            <i class="fas fa-times me-2"></i>
                            پاک کردن فیلترها
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- History Results -->
        <div class="history-results">
            <div class="results-header">
                <h6 class="results-title">
                    <i class="fas fa-list me-2"></i>
                    نتایج جستجو
                </h6>
                <div class="results-count">
                    <span id="resultsCount">0</span> مورد یافت شد
                </div>
            </div>
            
            <div class="results-content" id="historyResults">
                <!-- نتایج به صورت پویا لود می‌شوند -->
                <div class="no-results">
                    <i class="fas fa-search"></i>
                    <p>هیچ سابقه‌ای یافت نشد</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- CSS moved to centralized file: Content/css/reception/reception-accordion.css -->

<!-- JavaScript moved to centralized module -->